@using RR.Blazor.Components.Core
@using RR.Blazor.Components.Feedback
@using RR.Blazor.Enums
@using RR.Blazor.TestPages.Demos.Components

<div class="relative">
    <GitHubLinkButton FileName="RAlertDemo.razor" />
    <RCard Variant="CardVariant.Outlined" Text="RAlert">
    <ChildContent>
        <RDivider Text="Alert Component" 
                         Subtitle="Status messages for displaying important information with different severity levels" 
                         Icon="info" />
        
        <div class="space-y-6">
            <!-- Alert Types -->
            <div class="space-y-2">
                <div class="text-h6 font-semibold">Alert Types</div>
                <div class="space-y-3">
                    <RAlert Type="AlertType.Info" 
                            Title="Information" 
                            Message="This is an informational alert message." />
                    <RAlert Type="AlertType.Success" 
                            Title="Success" 
                            Message="Operation completed successfully!" />
                    <RAlert Type="AlertType.Warning" 
                            Title="Warning" 
                            Message="Please review this warning before proceeding." />
                    <RAlert Type="AlertType.Error" 
                            Title="Error" 
                            Message="An error occurred that needs immediate attention." />
                </div>
            </div>

            <!-- Alert Variants -->
            <div class="space-y-2">
                <div class="text-h6 font-semibold">Alert Variants</div>
                <div class="space-y-3">
                    <RAlert Type="AlertType.Info" 
                            Variant="VariantType.Default"
                            Message="Default variant with subtle background" />
                    <RAlert Type="AlertType.Success" 
                            Filled="true"
                            Message="Filled variant with solid background" />
                    <RAlert Type="AlertType.Warning" 
                            Variant="VariantType.Secondary"
                            Message="Outline variant with border emphasis" />
                    <RAlert Type="AlertType.Error" 
                            Variant="VariantType.Default"
                            Message="Subtle variant with minimal styling" />
                </div>
            </div>

            <!-- Alert Sizes -->
            <div class="space-y-2">
                <div class="text-h6 font-semibold">Alert Sizes</div>
                <div class="space-y-3">
                    <RAlert Type="AlertType.Info" 
                            Size="SizeType.Small"
                            Message="Small alert for compact spaces" />
                    <RAlert Type="AlertType.Success" 
                            Size="SizeType.Medium"
                            Message="Medium alert (default size)" />
                    <RAlert Type="AlertType.Warning" 
                            Size="SizeType.Large"
                            Title="Large Alert"
                            Message="Large alert for important announcements" />
                </div>
            </div>

            <!-- Custom Icons -->
            <div class="space-y-2">
                <div class="text-h6 font-semibold">Custom Icons</div>
                <div class="space-y-3">
                    <RAlert Type="AlertType.Info" 
                            Icon="lightbulb"
                            Title="Pro Tip"
                            Message="You can customize the alert icon." />
                    <RAlert Type="AlertType.Success" 
                            Icon="verified"
                            Title="Verified"
                            Message="Your account has been verified successfully." />
                    <RAlert Type="AlertType.Warning" 
                            Icon="schedule"
                            Title="Scheduled Maintenance"
                            Message="System maintenance scheduled for tonight." />
                    <RAlert Type="AlertType.Info" 
                            ShowIcon="false"
                            Title="No Icon"
                            Message="This alert doesn't display an icon." />
                </div>
            </div>

            <!-- Dismissible Alerts -->
            <div class="space-y-2">
                <div class="text-h6 font-semibold">Dismissible Alerts</div>
                <div class="space-y-3">
                    @if (_showDismissible1)
                    {
                        <RAlert Type="AlertType.Info" 
                                Title="Dismissible Alert"
                                Message="Click the Ã— button to dismiss this alert."
                                Dismissible="true"
                                OnClose="@(() => _showDismissible1 = false)" />
                    }
                    @if (_showDismissible2)
                    {
                        <RAlert Type="AlertType.Warning" 
                                Title="Auto-Close Alert"
                                Message="This alert will automatically close in 5 seconds."
                                Dismissible="true"
                                AutoClose="true"
                                AutoCloseDelay="5000"
                                OnClose="@(() => _showDismissible2 = false)" />
                    }
                    @if (!_showDismissible1 || !_showDismissible2)
                    {
                        <RButton Text="Reset Dismissed Alerts" 
                                 @onclick="ResetDismissedAlerts"
                                 Variant="VariantType.Secondary"
                                 Size="SizeType.Small" />
                    }
                </div>
            </div>

            <!-- Content Alignment -->
            <div class="space-y-2">
                <div class="text-h6 font-semibold">Content Alignment</div>
                <div class="space-y-3">
                    <RAlert Type="AlertType.Info" 
                            ContentAlignment="AlertContentAlignment.Start"
                            Title="Left Aligned"
                            Message="Content aligned to the start (default)" />
                    <RAlert Type="AlertType.Success" 
                            ContentAlignment="AlertContentAlignment.Center"
                            Title="Center Aligned"
                            Message="Content aligned to the center" />
                    <RAlert Type="AlertType.Warning" 
                            ContentAlignment="AlertContentAlignment.End"
                            Title="Right Aligned"
                            Message="Content aligned to the end" />
                </div>
            </div>

            <!-- Professional Use Cases -->
            <div class="space-y-2">
                <div class="text-h6 font-semibold">Professional Use Cases</div>
                <div class="space-y-4">
                    <div>
                        <p class="text-sm text-muted mb-2">Form Validation</p>
                        <div class="space-y-2">
                            <RAlert Type="AlertType.Error" 
                                    Icon="error"
                                    Title="Validation Failed"
                                    Message="Please correct the following errors: Email address is required, Password must be at least 8 characters."
                                    Filled="true" />
                        </div>
                    </div>

                    <div>
                        <p class="text-sm text-muted mb-2">System Status</p>
                        <div class="space-y-2">
                            <RAlert Type="AlertType.Success" 
                                    Icon="cloud_done"
                                    Title="Backup Complete"
                                    Message="Your data has been successfully backed up to the cloud."
                                    Variant="VariantType.Secondary" />
                            <RAlert Type="AlertType.Warning" 
                                    Icon="storage"
                                    Title="Storage Nearly Full"
                                    Message="You have used 95% of your storage quota. Consider upgrading your plan."
                                    Variant="VariantType.Default" />
                        </div>
                    </div>

                    <div>
                        <p class="text-sm text-muted mb-2">User Actions</p>
                        <div class="space-y-2">
                            <RAlert Type="AlertType.Info" 
                                    Icon="update"
                                    Title="Update Available"
                                    Message="A new version of the application is available. Click here to update."
                                    Variant="VariantType.Secondary" />
                            <RAlert Type="AlertType.Warning" 
                                    Icon="lock"
                                    Title="Session Expiring"
                                    Message="Your session will expire in 5 minutes. Save your work to avoid losing changes."
                                    Variant="VariantType.Default" />
                        </div>
                    </div>
                </div>
            </div>

            <!-- Interactive Demo -->
            <div class="space-y-2">
                <div class="text-h6 font-semibold">Interactive Demo</div>
                <div class="space-y-3">
                    <div class="flex gap-3 flex-wrap">
                        <RButton Text="Show Info Alert" 
                                 @onclick="@(() => ShowDemoAlert(AlertType.Info, "Information", "This is a demo info alert."))"
                                 Variant="VariantType.Primary"
                                 Size="SizeType.Small" />
                        <RButton Text="Show Success Alert" 
                                 @onclick="@(() => ShowDemoAlert(AlertType.Success, "Success!", "Operation completed successfully."))"
                                 Variant="VariantType.Success"
                                 Size="SizeType.Small" />
                        <RButton Text="Show Warning Alert" 
                                 @onclick="@(() => ShowDemoAlert(AlertType.Warning, "Warning", "Please review this warning."))"
                                 Variant="VariantType.Warning"
                                 Size="SizeType.Small" />
                        <RButton Text="Show Error Alert" 
                                 @onclick="@(() => ShowDemoAlert(AlertType.Error, "Error", "An error has occurred."))"
                                 Variant="VariantType.Error"
                                 Size="SizeType.Small" />
                    </div>
                    
                    @if (_showDemoAlert)
                    {
                        <RAlert Type="@_demoAlertType" 
                                Title="@_demoAlertTitle"
                                Message="@_demoAlertMessage"
                                Dismissible="true"
                                OnClose="@(() => _showDemoAlert = false)" />
                    }
                </div>
            </div>
        </div>
    </ChildContent>
</RCard>

@code {
    // Dismissible alert states
    private bool _showDismissible1 = true;
    private bool _showDismissible2 = true;

    // Interactive demo states
    private bool _showDemoAlert = false;
    private AlertType _demoAlertType = AlertType.Info;
    private string _demoAlertTitle = "";
    private string _demoAlertMessage = "";

    private void ResetDismissedAlerts()
    {
        _showDismissible1 = true;
        _showDismissible2 = true;
    }

    private void ShowDemoAlert(AlertType type, string title, string message)
    {
        _demoAlertType = type;
        _demoAlertTitle = title;
        _demoAlertMessage = message;
        _showDemoAlert = true;
        StateHasChanged();
    }
}
</div>