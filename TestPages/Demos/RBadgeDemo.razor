@using RR.Blazor.Components.Core
@using RR.Blazor.Components.Feedback
@using RR.Blazor.Enums

<RCard Variant="CardVariant.Outlined" Text="RBadge">
    <ChildContent>
        <RDivider Text="Badge Component" 
                         Subtitle="Professional badge for status indicators, counts, and notifications" 
                         Icon="local_offer" />
        
        <div class="space-y-6">
            <!-- Variants -->
            <div class="space-y-2">
                <div class="text-h6 font-semibold">Variants</div>
                <div class="flex items-center gap-3 flex-wrap">
                    <RBadge Text="Primary" Variant="VariantType.Primary" />
                    <RBadge Text="Secondary" Variant="VariantType.Secondary" />
                    <RBadge Text="Success" Variant="VariantType.Success" />
                    <RBadge Text="Warning" Variant="VariantType.Warning" />
                    <RBadge Text="Danger" Variant="VariantType.Danger" />
                    <RBadge Text="Error" Variant="VariantType.Error" />
                    <RBadge Text="Info" Variant="VariantType.Info" />
                    <RBadge Text="Outline" Variant="VariantType.Outline" />
                </div>
            </div>

            <!-- Sizes -->
            <div class="space-y-2">
                <div class="text-h6 font-semibold">Sizes</div>
                <div class="flex items-center gap-3">
                    <RBadge Text="XS" Size="SizeType.ExtraSmall" />
                    <RBadge Text="Small" Size="SizeType.Small" />
                    <RBadge Text="Medium" Size="SizeType.Medium" />
                    <RBadge Text="Large" Size="SizeType.Large" />
                    <RBadge Text="XL" Size="SizeType.ExtraLarge" />
                </div>
            </div>

            <!-- With Icons -->
            <div class="space-y-2">
                <div class="text-h6 font-semibold">With Icons</div>
                <div class="flex items-center gap-3 flex-wrap">
                    <RBadge Text="New" Icon="fiber_new" Variant="VariantType.Success" />
                    <RBadge Text="Hot" Icon="whatshot" Variant="VariantType.Error" />
                    <RBadge Text="Verified" Icon="verified" Variant="VariantType.Primary" />
                    <RBadge Text="Premium" Icon="star" Variant="VariantType.Warning" />
                    <RBadge Text="Alert" Icon="warning" Variant="VariantType.Danger" />
                    <RBadge Text="Info" Icon="info" Variant="VariantType.Info" />
                </div>
            </div>

            <!-- Status Examples -->
            <div class="space-y-2">
                <div class="text-h6 font-semibold">Status Indicators</div>
                <div class="flex items-center gap-3 flex-wrap">
                    <RBadge Text="Online" Icon="circle" Variant="VariantType.Success" />
                    <RBadge Text="Offline" Icon="circle" Variant="VariantType.Secondary" />
                    <RBadge Text="Busy" Icon="circle" Variant="VariantType.Error" />
                    <RBadge Text="Away" Icon="circle" Variant="VariantType.Warning" />
                </div>
            </div>

            <!-- Count Badges -->
            <div class="space-y-2">
                <div class="text-h6 font-semibold">Count Badges</div>
                <div class="flex items-center gap-3 flex-wrap">
                    <RBadge Text="5" Variant="VariantType.Primary" />
                    <RBadge Text="12" Variant="VariantType.Error" />
                    <RBadge Text="99+" Variant="VariantType.Warning" />
                    <RBadge Text="New" Variant="VariantType.Success" />
                    <RBadge Text="0" Variant="VariantType.Secondary" />
                </div>
            </div>

            <!-- Clickable Badges -->
            <div class="space-y-2">
                <div class="text-h6 font-semibold">Clickable Badges</div>
                <div class="flex items-center gap-3 flex-wrap">
                    <RBadge Text="@($"Clicked {_clickCount} times")" 
                            Clickable="true" 
                            Variant="VariantType.Primary" 
                            @onclick="IncrementCounter" />
                    <RBadge Text="Reset" 
                            Clickable="true" 
                            Variant="VariantType.Secondary" 
                            @onclick="ResetCounter" />
                    <RBadge Text="Toggle Status" 
                            Clickable="true" 
                            Variant="@(_isActive ? VariantType.Success : VariantType.Secondary)"
                            Icon="@(_isActive ? "check_circle" : "radio_button_unchecked")"
                            @onclick="ToggleStatus" />
                </div>
            </div>

            <!-- Professional Use Cases -->
            <div class="space-y-2">
                <div class="text-h6 font-semibold">Professional Use Cases</div>
                <div class="space-y-4">
                    <div>
                        <p class="text-sm text-muted mb-2">User Roles</p>
                        <div class="flex items-center gap-2 flex-wrap">
                            <RBadge Text="Admin" Variant="VariantType.Error" Icon="admin_panel_settings" />
                            <RBadge Text="Manager" Variant="VariantType.Warning" Icon="supervisor_account" />
                            <RBadge Text="Employee" Variant="VariantType.Primary" Icon="person" />
                            <RBadge Text="Guest" Variant="VariantType.Secondary" Icon="person_outline" />
                        </div>
                    </div>

                    <div>
                        <p class="text-sm text-muted mb-2">Document Status</p>
                        <div class="flex items-center gap-2 flex-wrap">
                            <RBadge Text="Draft" Variant="VariantType.Secondary" Icon="edit" />
                            <RBadge Text="Under Review" Variant="VariantType.Warning" Icon="rate_review" />
                            <RBadge Text="Approved" Variant="VariantType.Success" Icon="check_circle" />
                            <RBadge Text="Rejected" Variant="VariantType.Error" Icon="cancel" />
                        </div>
                    </div>

                    <div>
                        <p class="text-sm text-muted mb-2">Priority Levels</p>
                        <div class="flex items-center gap-2 flex-wrap">
                            <RBadge Text="Critical" Variant="VariantType.Error" Icon="error" />
                            <RBadge Text="High" Variant="VariantType.Warning" Icon="priority_high" />
                            <RBadge Text="Medium" Variant="VariantType.Primary" Icon="remove" />
                            <RBadge Text="Low" Variant="VariantType.Info" Icon="keyboard_arrow_down" />
                        </div>
                    </div>

                    <div>
                        <p class="text-sm text-muted mb-2">Notification Counts</p>
                        <div class="flex items-center gap-4">
                            <div class="flex items-center gap-2">
                                <span class="text-sm">Messages</span>
                                <RBadge Text="3" Variant="VariantType.Error" Size="SizeType.Small" />
                            </div>
                            <div class="flex items-center gap-2">
                                <span class="text-sm">Tasks</span>
                                <RBadge Text="7" Variant="VariantType.Warning" Size="SizeType.Small" />
                            </div>
                            <div class="flex items-center gap-2">
                                <span class="text-sm">Updates</span>
                                <RBadge Text="12" Variant="VariantType.Primary" Size="SizeType.Small" />
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            @if (_showClickResult)
            {
                <div class="space-y-2">
                    <div class="text-h6 font-semibold">Action Result</div>
                    <RBadge Text="@_clickResult" 
                            Variant="VariantType.Success" 
                            Icon="check_circle" />
                </div>
            }
        </div>
    </ChildContent>
</RCard>

@code {
    private int _clickCount = 0;
    private bool _isActive = false;
    private string _clickResult = "";
    private bool _showClickResult = false;

    private void IncrementCounter()
    {
        _clickCount++;
        ShowResult($"Badge clicked! Count: {_clickCount}");
    }

    private void ResetCounter()
    {
        _clickCount = 0;
        ShowResult("Counter reset to 0");
    }

    private void ToggleStatus()
    {
        _isActive = !_isActive;
        ShowResult($"Status toggled to: {(_isActive ? "Active" : "Inactive")}");
    }

    private async void ShowResult(string message)
    {
        _clickResult = message;
        _showClickResult = true;
        StateHasChanged();
        
        await Task.Delay(2000);
        
        _showClickResult = false;
        StateHasChanged();
    }
}