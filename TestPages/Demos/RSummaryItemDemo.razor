@using RR.Blazor.Components
@using RR.Blazor.Components.Core
@using RR.Blazor.Components.Display
@using RR.Blazor.Components.Feedback
@using RR.Blazor.Enums
@using RR.Blazor.TestPages.Demos.Components

<div class="relative">
    <GitHubLinkButton FileName="RSummaryItemDemo.razor" />
    <RCard Variant="CardVariant.Outlined" Text="RSummaryItem">
    <ChildContent>
        <RDivider Text="Summary Item Component" 
                  Subtitle="Professional key-value display with icons, layouts, and emphasis styles" 
                  Icon="summarize" />
        
        <div class="space-y-6">
            <!-- Basic Examples -->
            <div class="space-y-2">
                <div class="text-h6 font-semibold">Basic Examples</div>
                <div class="space-y-2">
                    <RSummaryItem Text="Total Revenue" Value="$125,000" />
                    <RSummaryItem Text="Active Users" Value="1,248" />
                    <RSummaryItem Text="Completion Rate" Value="87.5%" />
                </div>
            </div>

            <!-- With Icons -->
            <div class="space-y-2">
                <div class="text-h6 font-semibold">With Icons</div>
                <div class="space-y-2">
                    <RSummaryItem Text="Gross Pay" Value="$3,500.00" Icon="payments" ShowSeparator="true" />
                    <RSummaryItem Text="Deductions" Value="$450.00" Icon="remove_circle" ShowSeparator="true" />
                    <RSummaryItem Text="Net Pay" Value="$3,050.00" Icon="account_balance_wallet" ShowSeparator="true" />
                </div>
            </div>

            <!-- Different Sizes -->
            <div class="space-y-2">
                <div class="text-h6 font-semibold">Size Variants</div>
                <div class="space-y-2">
                    <RSummaryItem Text="Small Size" Value="42" Size="SizeType.Small" />
                    <RSummaryItem Text="Medium Size" Value="42" Size="SizeType.Medium" />
                    <RSummaryItem Text="Large Size" Value="42" Size="SizeType.Large" />
                </div>
            </div>

            <!-- Layout Variants -->
            <div class="space-y-2">
                <div class="text-h6 font-semibold">Layout Variants</div>
                <div class="space-y-4">
                    <div>
                        <p class="text-sm text-secondary mb-2">Horizontal (Default)</p>
                        <RSummaryItem Text="Horizontal Layout" Value="$2,500" Layout="SummaryItemLayout.Horizontal" />
                    </div>
                    <div>
                        <p class="text-sm text-secondary mb-2">Vertical</p>
                        <RSummaryItem Text="Vertical Layout" Value="$2,500" Layout="SummaryItemLayout.Vertical" />
                    </div>
                    <div>
                        <p class="text-sm text-secondary mb-2">Inline</p>
                        <RSummaryItem Text="Inline Layout" Value="$2,500" Layout="SummaryItemLayout.Inline" />
                    </div>
                </div>
            </div>

            <!-- Emphasis Styles -->
            <div class="space-y-2">
                <div class="text-h6 font-semibold">Emphasis Variants</div>
                <div class="space-y-2">
                    <RSummaryItem Text="Normal" Value="$1,000" Emphasis="SummaryItemEmphasis.Normal" />
                    <RSummaryItem Text="Strong" Value="$1,000" Emphasis="SummaryItemEmphasis.Strong" />
                    <RSummaryItem Text="Bold" Value="$1,000" Emphasis="SummaryItemEmphasis.Bold" />
                    <RSummaryItem Text="Success" Value="+$500" Emphasis="SummaryItemEmphasis.Success" Icon="trending_up" />
                    <RSummaryItem Text="Warning" Value="3 Pending" Emphasis="SummaryItemEmphasis.Warning" Icon="warning" />
                    <RSummaryItem Text="Error" Value="-$250" Emphasis="SummaryItemEmphasis.Error" Icon="error" />
                    <RSummaryItem Text="Muted" Value="Inactive" Emphasis="SummaryItemEmphasis.Muted" />
                </div>
            </div>

            <!-- Custom Content -->
            <div class="space-y-2">
                <div class="text-h6 font-semibold">Custom Content</div>
                <div class="space-y-2">
                    <RSummaryItem Text="Status" Icon="info">
                        <RChip Text="Active" StyleVariant="ChipStyle.Status" Variant="VariantType.Success" />
                    </RSummaryItem>
                    <RSummaryItem Text="Payment Method" Icon="credit_card">
                        <div class="flex items-center gap-2">
                            <i class="icon text-primary">credit_card</i>
                            <span>Visa ending in 4242</span>
                        </div>
                    </RSummaryItem>
                    <RSummaryItem Text="Progress" Icon="trending_up">
                        <div class="w-full">
                            <RProgressBar Value="75" ShowLabel="true" Variant="ProgressVariant.Primary" />
                        </div>
                    </RSummaryItem>
                </div>
            </div>

            <!-- Real-World Example: Subscription Summary -->
            <div class="space-y-2">
                <div class="text-h6 font-semibold">Real-World Example: Subscription Summary</div>
                <RCard Variant="CardVariant.Outlined" class="pa-4">
                    <div class="space-y-2">
                        <RSummaryItem Text="Customer" Value="Alex Morgan" Icon="person" ShowSeparator="true" />
                        <RSummaryItem Text="Billing Cycle" Value="Jan 1-31, 2025" Icon="calendar_month" ShowSeparator="true" />
                        <RSummaryItem Text="Plan Fee" Value="$149.00" Icon="credit_score" ShowSeparator="true" />
                        <RSummaryItem Text="Add-ons" Value="$49.00" Icon="extension" ShowSeparator="true" Emphasis="SummaryItemEmphasis.Success" />
                        <RSummaryItem Text="Discounts" Value="$20.00" Icon="sell" ShowSeparator="true" Emphasis="SummaryItemEmphasis.Error" />
                        <RSummaryItem Text="Total Due" Value="$178.00" Icon="receipt_long" Emphasis="SummaryItemEmphasis.Bold" Size="SizeType.Large" />
                    </div>
                </RCard>
            </div>

            <!-- Interactive Example -->
            <div class="space-y-2">
                <div class="text-h6 font-semibold">Interactive Example</div>
                <div class="space-y-4">
                    <div class="flex gap-4">
                        <RButton Text="Change Size" Icon="format_size" OnClick="ToggleSize" Variant="VariantType.Secondary" />
                        <RButton Text="Change Layout" Icon="view_agenda" OnClick="ToggleLayout" Variant="VariantType.Secondary" />
                        <RButton Text="Change Emphasis" Icon="format_paint" OnClick="ToggleEmphasis" Variant="VariantType.Secondary" />
                    </div>
                    <RSummaryItem Text="Dynamic Summary Item" 
                                  Value="$10,000" 
                                  Icon="auto_awesome"
                                  Size="@currentSize"
                                  Layout="@currentLayout"
                                  Emphasis="@currentEmphasis"
                                  ShowSeparator="true" />
                </div>
            </div>
        </div>
    </ChildContent>
    </RCard>
</div>

@code {
    private SizeType currentSize = SizeType.Medium;
    private SummaryItemLayout currentLayout = SummaryItemLayout.Horizontal;
    private SummaryItemEmphasis currentEmphasis = SummaryItemEmphasis.Normal;

    private void ToggleSize()
    {
        currentSize = currentSize switch
        {
            SizeType.Small => SizeType.Medium,
            SizeType.Medium => SizeType.Large,
            SizeType.Large => SizeType.Small,
            _ => SizeType.Medium
        };
    }

    private void ToggleLayout()
    {
        currentLayout = currentLayout switch
        {
            SummaryItemLayout.Horizontal => SummaryItemLayout.Vertical,
            SummaryItemLayout.Vertical => SummaryItemLayout.Inline,
            SummaryItemLayout.Inline => SummaryItemLayout.Horizontal,
            _ => SummaryItemLayout.Horizontal
        };
    }

    private void ToggleEmphasis()
    {
        var emphasisValues = Enum.GetValues<SummaryItemEmphasis>();
        var currentIndex = Array.IndexOf(emphasisValues, currentEmphasis);
        var nextIndex = (currentIndex + 1) % emphasisValues.Length;
        currentEmphasis = emphasisValues[nextIndex];
    }
}
