@use '../abstracts' as *;
@use 'sass:map';

// ===== OPTIMIZED BORDER SYSTEM =====
// Efficient border utility generation using maps

$border-widths: (
  '': var(--border-1),
  0: 0,
  2: var(--border-2),
  3: calc(var(--border-2) + var(--border-1)),
  4: var(--space-1)
);

$border-colors: (
  "transparent": transparent,
  current: currentColor,
  '': var(--color-border),
  light: var(--color-border),
  medium: var(--color-border),
  strong: var(--color-border),
  primary: var(--color-primary),
  secondary: var(--color-primary),
  success: var(--color-success),
  warning: var(--color-warning),
  error: var(--color-error),
  info: var(--color-info)
);

// Generate border utilities efficiently
@each $width-name, $width-value in $border-widths {
  @if $width-name == '' {
    .border { 
      border: #{$width-value} solid var(--color-border); 
    }
  } @else if $width-name == 0 {
    .border-0, .border-none { 
      border: none; 
    }
  } @else {
    .border-#{$width-name} { 
      border-width: #{$width-value}; 
    }
  }
}

// Generate border color utilities
@each $color-name, $color-value in $border-colors {
  .border-#{$color-name} { 
    border-color: #{$color-value}; 
  }
}

// ===== SIDE-SPECIFIC BORDER UTILITIES =====
// Optimized side-specific borders
$border-sides: (
  t: top,
  r: right,
  b: bottom,
  l: left
);

// Generate side-specific border utilities
@each $short, $side in $border-sides {
  .border-#{$short} { 
    border-#{$side}: var(--border-1) solid var(--color-border); 
  }
  
  // Side-specific width utilities
  @each $width-name, $width-value in $border-widths {
    @if $width-name != '' {
      .border-#{$short}-#{$width-name} { 
        border-#{$side}-width: #{$width-value}; 
      }
    }
  }
}

// Axis-specific border resets (optimized)
.border-x-0 { 
  border-left-width: 0; 
  border-right-width: 0; 
}
.border-y-0 { 
  border-top-width: 0; 
  border-bottom-width: 0; 
}


// ===== COMPONENT-SPECIFIC BORDER UTILITIES =====
// Button border utilities (optimized using map)
$button-border-colors: (
  primary: var(--button-primary-bg),
  secondary: var(--button-secondary-border),
  ghost: var(--button-ghost-border),
  danger: var(--button-danger-border),
  success: var(--button-success-border),
  warning: var(--button-warning-border),
  outline: var(--button-outline-border),
  glass: var(--button-glass-border)
);

@each $variant, $color in $button-border-colors {
  .border-button-#{$variant} { border-color: #{$color}; }
}

// Button hover states
.hover\:border-button-secondary-hover:hover { 
  border-color: var(--button-secondary-border-hover); 
}

// ===== BORDER STYLE UTILITIES =====
// Optimized border style generation
$border-styles: (
  solid: solid,
  dashed: dashed,
  dotted: dotted,
  none: none
);

@each $style-name, $style-value in $border-styles {
  .border-#{$style-name} { border-style: #{$style-value}; }
}

// ===== BORDER RADIUS UTILITIES =====
// Optimized border radius generation
$border-radius: (
  none: 0,
  sm: var(--radius-sm),
  '': var(--radius-md),
  md: var(--radius-md),
  lg: var(--radius-lg),
  xl: var(--radius-xl),
  2xl: var(--radius-2xl),
  full: var(--radius-full)
);

@each $size-name, $size-value in $border-radius {
  @if $size-name == '' {
    .rounded { border-radius: #{$size-value}; }
  } @else {
    .rounded-#{$size-name} { border-radius: #{$size-value}; }
  }
}

// ===== DIRECTIONAL BORDER RADIUS UTILITIES =====
// Optimized directional radius generation
$radius-directions: (
  t: (top-left, top-right),
  b: (bottom-left, bottom-right),
  l: (top-left, bottom-left),
  r: (top-right, bottom-right),
  tl: (top-left),
  tr: (top-right),
  bl: (bottom-left),
  br: (bottom-right)
);

$radius-sizes: (
  none: 0,
  sm: var(--radius-sm),
  '': var(--radius-md),
  md: var(--radius-md),
  lg: var(--radius-lg)
);

@each $direction, $corners in $radius-directions {
  @each $size-name, $size-value in $radius-sizes {
    @if $size-name == '' {
      .rounded-#{$direction} {
        @each $corner in $corners {
          border-#{$corner}-radius: #{$size-value};
        }
      }
    } @else {
      .rounded-#{$direction}-#{$size-name} {
        @each $corner in $corners {
          border-#{$corner}-radius: #{$size-value};
        }
      }
    }
  }
}


// ===== TABLE BORDER UTILITIES =====
.border-collapse { border-collapse: collapse; }
.border-separate { border-collapse: separate; }

// ===== HOVER BORDER UTILITIES =====
// Essential hover border colors
$hover-border-colors: (
  primary: var(--color-primary),
  medium: var(--color-border),
  strong: var(--color-border)
);

@each $color-name, $color-value in $hover-border-colors {
  .hover\:border-#{$color-name}:hover { 
    border-color: #{$color-value}; 
  }
}