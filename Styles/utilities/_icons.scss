// Icon Utility System
// Comprehensive icon system for material symbols and general icons
@use '../abstracts' as *;

// Material Symbols Rounded as the standard icon font
// Use proper .icon or .icon--material classes for semantic icons

// Icon size utilities for direct class usage - utility-first approach
.icon-xs { font-size: var(--icon-xs); }
.icon-sm { font-size: var(--icon-sm); }
.icon-base { font-size: var(--icon-base); }
.icon-lg { font-size: var(--icon-lg); }
.icon-xl { font-size: var(--icon-xl); }
.icon-2xl { font-size: var(--icon-2xl); }
.icon-3xl { font-size: var(--icon-3xl); }
.icon-4xl { font-size: var(--icon-4xl); }
.icon-5xl { font-size: var(--icon-5xl); }

// Forced size utilities (with !important) for when specificity override is needed
.icon-xs\! { font-size: var(--icon-xs) !important; }
.icon-sm\! { font-size: var(--icon-sm) !important; }
.icon-base\! { font-size: var(--icon-base) !important; }
.icon-lg\! { font-size: var(--icon-lg) !important; }
.icon-xl\! { font-size: var(--icon-xl) !important; }
.icon-2xl\! { font-size: var(--icon-2xl) !important; }
.icon-3xl\! { font-size: var(--icon-3xl) !important; }
.icon-4xl\! { font-size: var(--icon-4xl) !important; }
.icon-5xl\! { font-size: var(--icon-5xl) !important; }

// Base icon class - foundation for all icons
.icon {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  font-style: normal;
  line-height: 1;
  flex-shrink: 0;
  transition: var(--transition-colors);
  user-select: none;
  
  // Default size
  font-size: var(--icon-base);
  width: var(--icon-base);
  height: var(--icon-base);
}

// Material Symbols base class with optimized settings
.icon--material,
.icon--material {
  @extend .icon !optional;
  font-family: 'Material Symbols Rounded';
  font-variation-settings: 
    'FILL' 0,
    'wght' 400,
    'GRAD' 0,
    'opsz' 20;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

// Size variants - comprehensive scale
.icon--xs {
  font-size: var(--icon-xs);
  width: var(--icon-xs);
  height: var(--icon-xs);
}

.icon--sm {
  font-size: var(--icon-sm);
  width: var(--icon-sm);
  height: var(--icon-sm);
}

.icon--md {
  font-size: var(--icon-lg);
  width: var(--icon-lg);
  height: var(--icon-lg);
}

.icon--lg {
  font-size: var(--icon-xl);
  width: var(--icon-xl);
  height: var(--icon-xl);
}

.icon--xl {
  font-size: var(--icon-2xl);
  width: var(--icon-2xl);
  height: var(--icon-2xl);
}

.icon--2xl {
  font-size: var(--icon-3xl);
  width: var(--icon-3xl);
  height: var(--icon-3xl);
}

.icon--3xl {
  font-size: var(--icon-4xl);
  width: var(--icon-4xl);
  height: var(--icon-4xl);
}

// Color variants - semantic colors
.icon--primary {
  color: var(--color-interactive-primary);
}

.icon--secondary {
  color: var(--color-text-secondary);
}

.icon--tertiary {
  color: var(--color-text-tertiary);
}

.icon--success {
  color: var(--color-success);
}

.icon--warning {
  color: var(--color-warning);
}

.icon--error,
.icon--danger {
  color: var(--color-error);
}

.icon--info {
  color: var(--color-info);
}

.icon--muted {
  color: var(--color-text-secondary);
  opacity: 0.7;
}

.icon--inverse {
  color: var(--color-text-inverse);
}

// Interactive states
.icon--interactive {
  cursor: pointer;
  transition: var(--transition-colors);
  border-radius: var(--radius-sm);
  
  &:hover {
    color: var(--color-interactive-hover);
    background: var(--color-background-secondary);
  }
  
  &:active {
    color: var(--color-interactive-active);
    background: var(--color-background-pressed);
  }
}

// Special contextual variants
.icon--clickable {
  @extend .icon--interactive !optional;
  padding: var(--space-1);
  margin: calc(-1 * var(--space-1));
}

.icon--button {
  @extend .icon--interactive !optional;
  padding: var(--space-2);
  margin: calc(-1 * var(--space-2));
  border-radius: var(--radius-md);
}

// Weight variations for material symbols
.icon--filled {
  font-variation-settings: 
    'FILL' 1,
    'wght' 400,
    'GRAD' 0,
    'opsz' 20;
}

.icon--outlined {
  font-variation-settings: 
    'FILL' 0,
    'wght' 400,
    'GRAD' 0,
    'opsz' 20;
}

.icon--sharp {
  font-variation-settings: 
    'FILL' 0,
    'wght' 400,
    'GRAD' 0,
    'opsz' 20;
}

// Status indicator icons
.icon--status {
  position: relative;
  
  &::after {
    content: '';
    position: absolute;
    top: -2px;
    right: -2px;
    width: 6px;
    height: 6px;
    border-radius: 50%;
    border: 1px solid var(--color-background-elevated);
  }
  
  &.icon--status-success::after {
    background: var(--color-success);
  }
  
  &.icon--status-warning::after {
    background: var(--color-warning);
  }
  
  &.icon--status-error::after {
    background: var(--color-error);
  }
  
  &.icon--status-offline::after {
    background: var(--color-text-tertiary);
  }
}

// Icon combinations
.icon-text {
  display: inline-flex;
  align-items: center;
  gap: var(--space-2);
  
  &--sm {
    gap: var(--space-1);
  }
  
  &--lg {
    gap: var(--space-3);
  }
}

// Loading icon animation
.icon--loading {
  animation: iconSpin 1s linear infinite;
}


// Common icon containers for consistent spacing
.icon-container {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
  
  &--sm {
    width: var(--space-6);
    height: var(--space-6);
  }
  
  &--md {
    width: var(--space-8);
    height: var(--space-8);
  }
  
  &--lg {
    width: var(--space-10);
    height: var(--space-10);
  }
  
  &--xl {
    width: var(--space-12);
    height: var(--space-12);
  }
}

// Clean BEM icon system - no backwards compatibility needed

// Action icon patterns
.action-icon {
  @extend .icon--material !optional;
  @extend .icon--interactive !optional;
  
  &--sm {
    @extend .icon--sm !optional;
  }
  
  &--md {
    @extend .icon--md !optional;
  }
  
  &--lg {
    @extend .icon--lg !optional;
  }
}

// Component-specific icon styling - consolidated from all components
// This replaces all individual i selectors in component files

// Alert component icons
.alert {
  i {
    color: inherit;
    flex-shrink: 0;
  }
  
  &__icon i {
    font-size: 1.25rem;
  }
  
  &__close i {
    font-size: 1rem;
  }
}

// Badge component icons
.badge {
  i {
    font-size: 0.875rem;
    color: inherit;
  }
  
  &--sm i,
  &--small i {
    font-size: 0.75rem;
  }
  
  &--lg i,
  &--large i {
    font-size: 1rem;
  }
}

// Button component icons (already handled in _buttons.scss line 30)
.button {
  *, i, span {
    color: inherit;
  }
}

// Form component icons
.form {
  &__error i,
  &__success i {
    font-size: 1rem;
  }
}

// List component icons
.list {
  &__icon i {
    font-size: 1.5rem;
  }
  
  &--small i {
    font-size: 1.25rem;
  }
  
  &--large i {
    font-size: 2rem;
  }
  
  &--danger i {
    font-size: 1.25rem;
    width: 1.5rem;
    text-align: center;
  }
}

// Modal component icons
.modal {
  &__title i {
    color: var(--color-interactive-primary);
    font-size: var(--text-2xl);
  }
  
  &__close i {
    font-size: 1.25rem;
  }
  
  &__unsaved-indicator i {
    font-size: var(--text-base);
  }
  
  // Modal variant icons
  &--warning .modal__title i {
    color: var(--color-warning);
  }
  
  &--error .modal__title i {
    color: var(--color-error);
  }
  
  &--success .modal__title i {
    color: var(--color-success);
  }
}

// Pagination component icons
.pagination {
  &__button i {
    font-size: 16px;
  }
}

// Empty state component icons
.empty-state {
  &__icon i {
    font-size: 2.5rem;
    color: var(--color-text-tertiary);
    
    @include responsive-max(md) {
      font-size: 2rem;
    }
  }
  
  // State variants
  &--primary i {
    color: var(--color-text-on-primary);
  }
  
  &--success i {
    color: var(--color-success);
  }
  
  &--warning i {
    color: var(--color-warning);
  }
  
  &--error i {
    color: var(--color-error);
  }
  
  &--info i {
    color: var(--color-info);
  }
  
  // Size variants
  &--small .empty-state__icon i {
    font-size: 1.75rem;
  }
  
  &--large .empty-state__icon i {
    font-size: 3rem;
  }
  
  &--subtle .empty-state__icon i {
    opacity: 0.3;
  }
  
  &--muted .empty-state__icon i {
    color: var(--color-text-muted);
  }
}







