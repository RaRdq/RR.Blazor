@use '../abstracts' as *;

// Navigation Component - Streamlined navigation styles
// This ensures NavMenu.razor works with the global design system and RoleSwitcher

// Main navigation container - flexible layout to prevent scrollbars
.nav-sidebar {
  display: flex;
  flex-direction: column;
  width: 100%;
  flex: 1;
  min-height: 0; // Allow flexbox to shrink below content size
  overflow-y: auto;
  
  // Premium scrollbar styling
  &::-webkit-scrollbar {
    width: var(--space-1);
  }
  
  &::-webkit-scrollbar-track {
    background: hsla(0, 0%, 100%, 0.05);
  }
  
  &::-webkit-scrollbar-thumb {
    background: hsla(0, 0%, 100%, 0.2);
    border-radius: var(--radius-sm);
    
    &:hover {
      background: hsla(0, 0%, 100%, 0.3);
    }
  }
  
  // Navigation items - use existing .nav__item styles but ensure structure works
  .nav__item {
    // Inherits from existing .nav__item styles in _sidebar.scss
    position: relative;
    
    &--active {
      &::after {
        content: '';
        position: absolute;
        left: 0;
        top: 50%;
        transform: translateY(-50%);
        width: var(--border-3);
        height: var(--space-5);
        background: var(--color-interactive-primary);
        border-radius: 0 2px 2px 0;
      }
    }
  }
  
  .nav__icon {
    // Inherits from existing .nav__icon styles
    flex-shrink: 0;
  }
  
  .nav__text {
    // Inherits from existing .nav__text styles
    transition: var(--transition-opacity);
    white-space: nowrap;
  }
  
  // Collapsed state handling
  .sidebar--collapsed & {
    .nav__item {
      justify-content: center;
      padding: var(--space-3) var(--space-2);
      margin: var(--space-1) var(--space-2);
      
      .nav__text {
        display: none;
      }
      
      .nav__icon {
        margin: 0;
      }
    }
  }
  
  // Mobile responsive behavior
  @include responsive-max(md) {
    .nav__item {
      padding: var(--space-4);
      margin: var(--space-1) var(--space-2);
      min-height: 44px; // iOS touch target minimum
    }
  }
}

// Admin section styling - enhanced for executive look
.nav__item--admin {
  color: var(--color-interactive-primary);
  font-weight: $font-semibold;
  position: relative;
  
  &::before {
    content: '';
    position: absolute;
    left: var(--space-3);
    right: var(--space-3);
    top: 0;
    height: 1px;
    background: linear-gradient(90deg, transparent, var(--color-border-light), transparent);
    margin-top: -var(--space-1);
  }
  
  .nav__icon {
    color: var(--color-interactive-primary);
  }
  
  &:hover:not(.nav__item--active) {
    background: rgba(var(--color-primary-rgb), 0.08);
    color: var(--color-interactive-hover);
    box-shadow: inset 0 1px 0 rgba(var(--color-primary-rgb), 0.1);
    
    .nav__icon {
      color: var(--color-interactive-hover);
    }
  }
  
  &.nav__item--active {
    background: var(--color-interactive-primary);
    color: var(--button-primary-text);
    box-shadow: var(--shadow-md);
    
    .nav__icon {
      color: var(--button-primary-text);
    }
    
    &::after {
      background: var(--button-primary-text);
    }
  }
}