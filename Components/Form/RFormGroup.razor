@namespace RR.Blazor.Components.Form
@using RR.Blazor.Components.Base
@inherits RComponentBase

<div class="@GetClasses()">
    @if (!string.IsNullOrEmpty(Label))
    {
        <label class="form-label">
            @Label
            @if (Required)
            {
                <span class="text-danger ml-1">*</span>
            }
        </label>
    }
    
    @ChildContent
    
    @if (!string.IsNullOrEmpty(Help))
    {
        <small class="form-help text-secondary">@Help</small>
    }
    
    @if (!string.IsNullOrEmpty(Error))
    {
        <small class="form-error text-danger">@Error</small>
    }
</div>

@code {
    [Parameter] public string Label { get; set; }
    [Parameter] public string Help { get; set; }
    [Parameter] public string Error { get; set; }
    [Parameter] public bool Required { get; set; }
    
    private string GetClasses()
    {
        var classes = new List<string> { "form-group" };
        
        if (!string.IsNullOrEmpty(Error))
        {
            classes.Add("has-error");
        }
        
        if (!string.IsNullOrEmpty(Class))
        {
            classes.Add(Class);
        }
        
        return string.Join(" ", classes);
    }
}